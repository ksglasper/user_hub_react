{"version":3,"sources":["api/index.js","components/Header.js","auth/index.js","components/UserPosts.js","components/UserTodos.js","index.js"],"names":["BASE","axios","get","data","userId","Header","userList","currentUser","setCurrentUser","useState","selectedUser","setSelectedUser","useEffect","className","onSubmit","event","preventDefault","to","activeClassName","onClick","localStorage","removeItem","username","onChange","id","target","value","user","find","map","key","setItem","JSON","stringify","UserPosts","userPosts","title","body","UserTodos","userTodos","completed","style","textDecoration","App","setUserList","parse","getItem","setUserPosts","setUserTodos","getUsers","then","users","catch","error","console","log","getPostsByUser","posts","getTodosByUser","todos","path","exact","padding","ReactDOM","render","document","getElementById"],"mappings":";ykNAEA,IAAMA,EAAO,4C,4CAEN,+GAEoBC,IAAMC,IAAN,UAAcF,EAAd,WAFpB,uBAEKG,EAFL,EAEKA,KAFL,kBAGIA,GAHJ,qG,kEASA,WAA8BC,GAA9B,kGAEoBH,IAAMC,IAAN,UAAcF,EAAd,kBAA8BI,EAA9B,WAFpB,uBAEKD,EAFL,EAEKA,KAFL,kBAGIA,GAHJ,qG,kEASA,WAA8BC,GAA9B,kGAEoBH,IAAMC,IAAN,UAAcF,EAAd,kBAA8BI,EAA9B,WAFpB,uBAEKD,EAFL,EAEKA,KAFL,kBAGIA,GAHJ,qG,4CC6CQE,EA1DA,SAAC,GAA+C,IAA7CC,EAA4C,EAA5CA,SAAUC,EAAkC,EAAlCA,YAAaC,EAAqB,EAArBA,eACvC,EAAwCC,qBAAxC,mBAAOC,EAAP,KAAqBC,EAArB,KAEAC,qBAAU,WACRD,EAAgBL,EAAS,MACxB,CAACA,IAuBJ,OACE,gCACE,kDACA,0BAAMO,UAAU,cAAcC,SAxBb,SAACC,GACpBA,EAAMC,mBAyBFT,EACA,oCACA,kBAAC,IAAD,CAASU,GAAI,SAAUC,gBAAgB,WAAvC,SACA,kBAAC,IAAD,CAASD,GAAI,SAAUC,gBAAgB,WAAvC,SACA,4BAAQC,QAfW,SAACJ,GACxBJ,EAAgBL,EAAS,ICtBzBc,aAAaC,WAAW,eDwBxBb,EAAe,QAYX,YAA6CD,EAAYe,WAGvD,oCACE,4BAAQC,SA9BS,SAACR,GAC1B,IAAMS,EAAKT,EAAMU,OAAOC,MAClBC,EAAOrB,EAASsB,MAAK,SAAAD,GAAI,OAAIA,EAAKH,IAAMA,KAC9Cb,EAAgBgB,KA4BLrB,EAASuB,KAAI,SAACF,GAAD,OACZ,4BAAQG,IAAKH,EAAKH,GAAIE,MAAOC,EAAKH,IAC/BG,EAAKL,cAMZ,4BAAQH,QAjCM,SAACJ,GC1BpB,IAA0BY,ID2BZjB,EC1BjBU,aAAaW,QAAQ,cAAeC,KAAKC,UAAUN,ID2BnDnB,EAAeE,KA+BP,cEzCGwB,G,MAdG,SAAC,GAAgC,IAA9B3B,EAA6B,EAA7BA,YAAa4B,EAAgB,EAAhBA,UAChC,OACE,yBAAKtB,UAAU,cACb,wCAAcN,EAAYe,UACzBa,EAAUN,KAAI,gBAAGL,EAAH,EAAGA,GAAIY,EAAP,EAAOA,MAAOC,EAAd,EAAcA,KAAd,OACb,yBAAKP,IAAKN,EAAIX,UAAU,QACtB,4BAAKuB,GACL,2BAAIC,UCWCC,G,MAlBG,SAAC,GAGZ,IAFL/B,EAEI,EAFJA,YACAgC,EACI,EADJA,UAEA,OACE,yBAAK1B,UAAU,cACb,wCAAeN,EAAYe,UAC1BiB,EAAUV,KAAI,gBAAGL,EAAH,EAAGA,GAAIY,EAAP,EAAOA,MAAOI,EAAd,EAAcA,UAAd,OACb,yBAAKV,IAAMN,EAAKX,UAAU,QACxB,wBAAI4B,MAAO,CACTC,eAAgBF,EAAY,eAAiB,SAC1CJ,U,OCRTO,EAAM,WACV,MAAgClC,mBAAS,IAAzC,mBAAOH,EAAP,KAAiBsC,EAAjB,KACA,EAAsCnC,mBHJvBuB,KAAKa,MAAMzB,aAAa0B,QAAQ,iBGI/C,mBAAOvC,EAAP,KAAoBC,EAApB,KACA,EAAkCC,mBAAS,IAA3C,mBAAO0B,EAAP,KAAkBY,EAAlB,KACA,EAAkCtC,mBAAS,IAA3C,mBAAO8B,EAAP,KAAkBS,EAAlB,KAoCA,OAlCApC,qBAAU,YLTL,WAAP,gCKUIqC,GACGC,MAAK,SAACC,GACLP,EAAYO,MAEbC,OAAM,SAACC,GACNC,QAAQC,IAAIF,EAAO,wBAEtB,IAEHzC,qBAAU,WACR,IAAKL,EAGH,OAFAwC,EAAa,SACbC,EAAa,KLbZ,SAAP,mCKiBIQ,CAAejD,EAAYiB,IACxB0B,MAAK,SAACO,GACLV,EAAaU,MAEdL,OAAM,SAACC,GACNC,QAAQC,IAAIF,EAAO,sBLbpB,SAAP,kCKgBIK,CAAenD,EAAYiB,IACxB0B,MAAK,SAACS,GACLX,EAAaW,MAEdP,OAAM,SAACC,SAGT,CAAC9C,IAGF,kBAAC,IAAD,KACE,yBAAKiB,GAAG,OACN,kBAAC,EAAD,CACElB,SAAUA,EACVC,YAAaA,EACbC,eAAgBA,IAEjBD,EACC,oCACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOqD,KAAM,UACb,kBAAC,EAAD,CAAWrD,YAAaA,EAAa4B,UAAWA,KAGhD,kBAAC,IAAD,CAAOyB,KAAM,UACb,kBAAC,EAAD,CAAWrB,UAAWA,EAAWhC,YAAaA,KAI9C,kBAAC,IAAD,CAAOsD,OAAK,EAACD,KAAK,KACZ,wBAAInB,MAAO,CAACqB,QAAS,SAArB,YAAyCvD,EAAYe,SAArD,MAEF,kBAAC,IAAD,CAAUL,GAAG,QAGjB,oCACJ,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO4C,OAAK,EAACD,KAAK,KAChB,wBAAInB,MAAO,CACTqB,QAAS,SADX,0BAIF,kBAAC,IAAD,CAAU7C,GAAG,WASvB8C,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.c11182ce.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst BASE = 'https://jsonplace-univclone.herokuapp.com'\n\nexport async function getUsers() {\n  try {\n    const { data } = await axios.get(`${ BASE }/users`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getPostsByUser(userId) {\n  try {\n    const { data } = await axios.get(`${ BASE }/users/${ userId }/posts`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getTodosByUser(userId) {\n  try {\n    const { data } = await axios.get(`${ BASE }/users/${ userId }/todos`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}","import React, { useEffect, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport {\n    storeCurrentUser,\n    clearCurrentUser\n  } from '../auth';\n\nimport \"./Header.css\";\n\nconst Header = ({ userList, currentUser, setCurrentUser }) => {\n  const [selectedUser, setSelectedUser] = useState();\n\n  useEffect(() => {\n    setSelectedUser(userList[0]);\n  }, [userList]);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n  };\n\n  const handleSelectChange = (event) => {\n    const id = event.target.value;\n    const user = userList.find(user => user.id == id);\n    setSelectedUser(user);\n  };\n\n  const handleUserLogin = (event) => {\n    storeCurrentUser(selectedUser);\n    setCurrentUser(selectedUser)\n  };\n\n  const handleUserLogout = (event) => {\n    setSelectedUser(userList[0]);\n    clearCurrentUser()\n    setCurrentUser(null);\n  };\n\n  return (\n    <header>\n      <h1>Welcome to UserHub</h1>\n      <form className=\"user-select\" onSubmit={handleSubmit}>\n        {\n        currentUser ? \n        <>\n        <NavLink to={'/posts'} activeClassName='current'>POSTS</NavLink>\n        <NavLink to={'/todos'} activeClassName='current'>TODOS</NavLink>\n        <button onClick={handleUserLogout}>LOG OUT, {currentUser.username}</button>\n        </>\n       : (\n          <>\n            <select onChange={handleSelectChange}>\n              {userList.map((user) => (\n                <option key={user.id} value={user.id}>\n                  {user.username}\n                {/* {console.log(user.address)} */}\n\n                </option>\n              ))}\n            </select>\n            <button onClick={handleUserLogin}>LOG IN</button>\n          </>\n        )}\n      </form>\n    </header>\n  );\n};\n\nexport default Header;\n","export function storeCurrentUser(user) {\n    localStorage.setItem('currentUser', JSON.stringify(user));\n  }\n  \n  export function getCurrentUser() {\n    const user = JSON.parse(localStorage.getItem('currentUser'));\n    return user;\n  }\n  \n  export function clearCurrentUser() {\n    localStorage.removeItem('currentUser');\n  }","import React from \"react\";\n\nimport \"./UserPosts.css\";\n\nconst UserPosts = ({ currentUser, userPosts }) => {\n  return (\n    <div className=\"user-posts\">\n      <h2>Posts By {currentUser.username}</h2>\n      {userPosts.map(({ id, title, body }) => (\n        <div key={id} className=\"post\">\n          <h3>{title}</h3>\n          <p>{body}</p>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default UserPosts;\n","import React from 'react';\n\nimport './UserTodos.css';\n\nconst UserTodos = ({\n  currentUser,\n  userTodos\n}) => {\n  return (\n    <div className=\"user-todos\">\n      <h2>Todos By { currentUser.username }</h2>\n      {userTodos.map(({ id, title, completed }) => (\n        <div key={ id } className=\"todo\">\n          <h3 style={{\n            textDecoration: completed ? 'line-through' : 'none'\n          }}>{ title }</h3>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default UserTodos;","import React, { useEffect, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { getUsers, getPostsByUser, getTodosByUser } from \"./api\";\nimport { Header, UserPosts, UserTodos } from \"./components\";\nimport { BrowserRouter as Router, Route, Redirect, Switch } from \"react-router-dom\";\nimport { getCurrentUser } from './auth';\n\nconst App = () => {\n  const [userList, setUserList] = useState([]);\n  const [currentUser, setCurrentUser] = useState(getCurrentUser());\n  const [userPosts, setUserPosts] = useState([]);\n  const [userTodos, setUserTodos] = useState([]);\n\n  useEffect(() => {\n    getUsers()\n      .then((users) => {\n        setUserList(users);\n      })\n      .catch((error) => {\n        console.log(error, \"Something broke\");\n      });\n  }, []);\n\n  useEffect(() => {\n    if (!currentUser) {\n      setUserPosts([]);\n      setUserTodos([]);\n      return;\n    }\n\n    getPostsByUser(currentUser.id)\n      .then((posts) => {\n        setUserPosts(posts);\n      })\n      .catch((error) => {\n        console.log(error, \"something broke\");\n      });\n\n    getTodosByUser(currentUser.id)\n      .then((todos) => {\n        setUserTodos(todos);\n      })\n      .catch((error) => {\n        // something something errors\n      });\n  }, [currentUser]);\n\n  return (\n    <Router>\n      <div id=\"App\">\n        <Header\n          userList={userList}\n          currentUser={currentUser}\n          setCurrentUser={setCurrentUser}\n        />\n        {currentUser ? (\n          <>\n          <Switch>\n            <Route path={'/posts'}>\n            <UserPosts currentUser={currentUser} userPosts={userPosts} />\n\n            </Route>\n            <Route path={'/todos'}>\n            <UserTodos userTodos={userTodos} currentUser={currentUser} />\n\n\n            </Route>\n            <Route exact path=\"/\">\n                  <h2 style={{padding: \".5em\"}}>Welcome, { currentUser.username }!</h2>\n                </Route>\n                <Redirect to=\"/\" />\n          </Switch>\n          </>\n        ) : <>\n        <Switch>\n          <Route exact path=\"/\">\n            <h2 style={{\n              padding: \".5em\"\n            }}>Please log in, above.</h2>\n          </Route>\n          <Redirect to=\"/\" />\n        </Switch>\n      </>\n      }\n      </div>\n    </Router>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}